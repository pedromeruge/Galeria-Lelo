@inject NavigationManager NavigationManager
@using app.Components.Pages.Menu
@rendermode InteractiveServer

@* <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> *@

<div class="header">
  <img class="logo-galeria" src="pngs/logo-galeria-horiz.png" />
  <form id="searchForm" class="searchbar" @onsubmit="Search">
      <img class="lupa" src="pngs/searchbar-lupa.png" />
      <input type="search" id="searchInput" placeholder="Pesquisar artigos" @bind="searchQuery">
  </form>
  <button class="login-button" @onclick="MostrarMenuLogin" CausesValidation="False">Iniciar Sess√£o</button>
  @* devia haver uma maneira de esta classe so ser criada 1 vez mas isso ultrapassa-me, nao consegui descobrir, entao fiz este if manhoso tanto aqui como no menu *@
	@if (mostrarMenuLogin)
	{
		<LoginMenuAdmin isVisible=true CloseCallback="FecharMenuLogin"/>
	}

</div>

@code{
  bool mostrarMenuLogin = false;
  private string? searchQuery = string.Empty; // resultado da pesquisa

//interpretar pesquisa
	private void Search() {
		if (searchQuery != null && searchQuery != "") {
																						@* DESATIVADO POR AGORA *@
			@* NavigationManager.NavigateTo($"/SearchResults/{Uri.EscapeDataString(searchQuery)}"); *@
		}
	}

	private void MostrarMenuLogin() {
		mostrarMenuLogin = true;
	}

	private void FecharMenuLogin() {
		mostrarMenuLogin = false;
	}
}
